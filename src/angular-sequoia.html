<div class="sequoia" data-ng-show="tree.tree.length">

  <div class="sequoia-search">
    <div class="sequoia-search-form" data-sequoia-search data-is-searching="searchEnabled" data-tree="tree"></div>
    <div class="sequoia-actions">
      <ul>
        <li  data-ng-if="model.length || onlySelected"><a class="sequoia-button sequoia-button-info" href="" data-ng-click="toggleSelected()">{{model.length && !onlySelected ? 'Show selected' : !model.length && onlySelected ? 'Back to list' : 'Hide selected'}}</a></li>
      </ul>
    </div>
  </div>

  <ul data-ng-if="!searchEnabled && !onlySelected" class="sequoia-breadcrumbs" data-ng-include="'sequoia-breadcrumbs.html'"></ul>

  <ul class="sequoia-tree">
    <li data-ng-repeat="node in tree.nodes track by node[tree.template.id]">
      <span class="sequoia-item-title" data-ng-bind="node[tree.template.title]"></span>
      <span class="sequoia-item-actions">
        <span data-ng-if="isSelected(node)">
          <a class="sequoia-button sequoia-button-danger" href="" title="Remove" data-ng-click="remove(node)">Remove</a>
        </span>
        <span data-ng-if="!isSelected(node)">
          <a class="sequoia-button sequoia-button-primary" href="" title="Select" data-ng-click="select(node)">Select</a>
        </span>
        <span data-ng-if="node[tree.template.nodes] && node[tree.template.nodes].length">
          <a class="sequoia-button sequoia-button-info" href="" title="Go to subitems" data-ng-click="load(node)">Go to subitems</a>
        </span>
      </span>
    </li>
  </ul>
</div>
